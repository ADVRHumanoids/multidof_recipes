clone:
  type: git
  server: github.com
  repository: advrhumanoids/OpenSoT.git
  tag: devel

pre_build_if:
  binary_gen:
    - rm -rf *.deb

build:
  type: cmake
  args:
    - -DCMAKE_EXPORT_COMPILE_COMMANDS=ON
  args_if:
    test:
      - -DOPENSOT_COMPILE_TESTS=ON

post_build_if:
  binary_gen:
    - make package
    - cp *.deb {config.binary_dir}
  vscode:
    - git clone --branch forest git@github.com:marcoruzzon/vscode_settings.git {srcdir}/.vscode

depends: 
  - XBotInterface
  - osqp
  - matlogger2
  - fcl


